<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.chart.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.kecamatan.controller.DashboardController"
            stylesheets="@../style/style.css" styleClass="dashboard-container">
    
    <left>
        <VBox spacing="10" styleClass="sidebar">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Text text="MENU" styleClass="sidebar-title"/>
            <Button text="Dashboard" maxWidth="Infinity" styleClass="sidebar-button-active"/>
            <Button text="Data Kecamatan" onAction="#goToKecamatan" maxWidth="Infinity" styleClass="sidebar-button"/>
            <Button text="Data Desa" onAction="#goToDesa" maxWidth="Infinity" styleClass="sidebar-button"/>
            <Button text="Data Warga" onAction="#goToWarga" maxWidth="Infinity" styleClass="sidebar-button"/>
            <Button text="Laporan" onAction="#goToLaporan" maxWidth="Infinity" styleClass="sidebar-button"/>
            <Region VBox.vgrow="ALWAYS"/>
            <Button text="Logout" onAction="#handleLogout" maxWidth="Infinity" styleClass="logout-button"/>
        </VBox>
    </left>

    <center>
        <VBox spacing="20">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Dashboard Overview" styleClass="title-text"/>
            </HBox>
            
            <GridPane hgap="20" vgap="20">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="100" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="100" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="100" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10" prefWidth="100" />
                </columnConstraints>
                
                <VBox styleClass="card" GridPane.columnIndex="0">
                    <Text text="Total Warga" styleClass="card-label"/>
                    <Text text="1,245,678" styleClass="card-value"/>
                </VBox>
                
                <VBox styleClass="card" GridPane.columnIndex="1">
                    <Text text="L / P" styleClass="card-label"/>
                    <Text text="612K / 633K" styleClass="card-value-small"/>
                </VBox>
                
                <VBox styleClass="card" GridPane.columnIndex="2">
                    <Text text="Total RT / RW" styleClass="card-label"/>
                    <Text text="420 / 84" styleClass="card-value-small"/>
                </VBox>

                <VBox styleClass="card" GridPane.columnIndex="3">
                    <Text text="Kecamatan" styleClass="card-label"/>
                    <Text text="12" styleClass="card-value"/>
                </VBox>
            </GridPane>

            <HBox spacing="20" VBox.vgrow="ALWAYS">
                <VBox HBox.hgrow="ALWAYS" styleClass="card" spacing="10">
                    <Text text="Pertumbuhan Warga (6 Bulan Terakhir)" styleClass="card-title"/>
                    <LineChart fx:id="wargaChart" legendSide="BOTTOM" createSymbols="true">
                        <xAxis><CategoryAxis side="BOTTOM" label="Bulan"/></xAxis>
                        <yAxis><NumberAxis side="LEFT" label="Jumlah"/></yAxis>
                    </LineChart>
                </VBox>
                
                <VBox prefWidth="250" styleClass="card" spacing="10">
                    <Text text="Recent Activities" styleClass="card-title"/>
                    <Label text="• Admin logged in" styleClass="activity-item"/>
                    <Label text="• Database synchronized" styleClass="activity-item"/>
                    <Label text="• New citizen data added" styleClass="activity-item"/>
                    <Label text="• Report exported to PDF" styleClass="activity-item"/>
                </VBox>
            </HBox>
        </VBox>
    </center>
</BorderPane>
